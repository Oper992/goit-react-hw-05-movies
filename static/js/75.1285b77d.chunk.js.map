{"version":3,"file":"static/js/75.1285b77d.chunk.js","mappings":"6PACA,EAA4B,6BAA5B,EAAkE,0B,SC6ElE,EAzEkB,WAAO,IAAD,IACtB,GAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,QAArC,eAAOG,EAAP,KAAeC,EAAf,KACQC,GAAOC,EAAAA,EAAAA,MAAPD,GAEFE,EAAY,qBADDC,EAAAA,EAAAA,MACaC,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,KAE7CC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAQ,mCAAG,8GAEUC,EAAAA,EAAAA,IAAeR,GAFzB,OAEPS,EAFO,OAIbZ,EAASY,GACTV,EAAU,WALG,gDAQbW,QAAQC,IAAI,KAAMC,SARL,yDAAH,qDAYdL,MACC,CAACP,IAEJ,IAIQa,EAA+CjB,EAA/CiB,YAAaC,EAAkClB,EAAlCkB,MAAOC,EAA2BnB,EAA3BmB,KAAMC,EAAqBpB,EAArBoB,SAAUC,EAAWrB,EAAXqB,OAE5C,OACE,8BACc,YAAXnB,IACC,iCACE,UAAC,KAAD,CAAMoB,GAAIhB,EAAV,UAAyB,KAAzB,eACA,iBAAKiB,UAAWC,EAAhB,WACE,gBACEC,IAAG,6DAAwDR,GAC3DS,IAAI,MAGN,4BACE,wBAAKR,GAAgBC,KACrB,kDAlBHQ,KAAKC,MAA2B,GAArB5B,EAAM6B,cAkBd,SACA,sCACA,uBAAIT,KACJ,oCACA,gBAAKG,UAAWC,EAAhB,SACGH,EAAOS,KAAI,gBAAG1B,EAAH,EAAGA,GAAIe,EAAP,EAAOA,KAAP,OACV,uBAAaA,GAALf,eAKhB,4BACE,mDACA,2BACE,yBACE,SAAC,KAAD,CAAMkB,GAAG,OAAT,sBAEF,yBACE,SAAC,KAAD,CAAMA,GAAG,SAAT,6BAIN,SAAC,EAAAS,SAAD,CAAUC,UAAU,gDAApB,UACE,SAAC,KAAD","sources":["webpack://react-homework-template/./src/components/MovieInfo/MovieInfo.module.css?df02","components/MovieInfo/MovieInfo.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieInfo\":\"MovieInfo_movieInfo__LxIpr\",\"genres\":\"MovieInfo_genres__SMFEJ\"};","import { useEffect, useState, Suspense } from 'react';\nimport { useParams, Link, Outlet, useLocation } from 'react-router-dom';\nimport { fetchMovieById } from '../../service/api';\nimport styled from './MovieInfo.module.css';\n\nconst MovieInfo = () => {\n  const [movie, setMovie] = useState({});\n  const [status, setStatus] = useState('idle');\n  const { id } = useParams();\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/';\n\n  useEffect(() => {\n    const addMovie = async () => {\n      try {\n        const response = await fetchMovieById(id);\n\n        setMovie(response);\n        setStatus('resolve');\n        // console.log(response);\n      } catch (error) {\n        console.log(error.message);\n      }\n    };\n\n    addMovie();\n  }, [id]);\n\n  const userScore = () => {\n    return Math.trunc(movie.vote_average * 10);\n  };\n\n  const { poster_path, title, name, overview, genres } = movie;\n\n  return (\n    <>\n      {status === 'resolve' && (\n        <>\n          <Link to={backLinkHref}>{'<-'} Go back</Link>\n          <div className={styled.movieInfo}>\n            <img\n              src={`https://www.themoviedb.org/t/p/w300_and_h450_bestv2${poster_path}`}\n              alt=\"\"\n            />\n\n            <div>\n              <h1>{title ? title : name}</h1>\n              <p>User score: {`${userScore()}%`}</p>\n              <h2>Overview</h2>\n              <p>{overview}</p>\n              <h3>Genres</h3>\n              <div className={styled.genres}>\n                {genres.map(({ id, name }) => (\n                  <p key={id}>{name}</p>\n                ))}\n              </div>\n            </div>\n          </div>\n          <div>\n            <p>Additional information</p>\n            <ul>\n              <li>\n                <Link to=\"cast\"> Cast</Link>\n              </li>\n              <li>\n                <Link to=\"review\">Review</Link>\n              </li>\n            </ul>\n          </div>\n          <Suspense fallback={<div>Loading subpage...</div>}>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MovieInfo;\n"],"names":["useState","movie","setMovie","status","setStatus","id","useParams","backLinkHref","useLocation","state","from","useEffect","addMovie","fetchMovieById","response","console","log","message","poster_path","title","name","overview","genres","to","className","styled","src","alt","Math","trunc","vote_average","map","Suspense","fallback"],"sourceRoot":""}