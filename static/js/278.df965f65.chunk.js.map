{"version":3,"file":"static/js/278.df965f65.chunk.js","mappings":"oMAGaA,EAAa,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACrBC,GAAWC,EAAAA,EAAAA,MAEjB,OACE,wBACGF,EAAOG,KAAI,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAMC,EAAhB,EAAgBA,GAAhB,OACV,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaD,GAAME,MAAO,CAAEC,KAAMR,GAA1C,SACGG,GAAgBC,KAFZC,U,oFCyCjB,UA7Ce,WACb,OAA0CI,EAAAA,EAAAA,UAAS,IAAnD,eAAOC,EAAP,KAAsBC,EAAtB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KA2BA,OAjBAC,EAAAA,EAAAA,YAAU,WAEJF,EAAaG,IAAI,UACnBC,EAAAA,EAAAA,IAAkBJ,EAAaG,IAAI,SAChCE,MAAK,SAAAnB,GACJ,IAAMoB,EAAyBpB,EAAOqB,QAAQlB,KAC5C,YACE,MAAO,CAAEC,MADc,EAAtBA,MACeC,KADO,EAAfA,KACcC,GADC,EAATA,OAKlBM,EAAiBQ,MAElBE,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,EAAMG,cAErC,CAACZ,KAGF,iCACE,kBAAMa,SA3BO,SAAAC,GACfA,EAAEC,iBACF,IAAMC,EAAQF,EAAEG,OAAO,GAAGC,MAG1BjB,EAF6B,KAAVe,EAAe,CAAEzB,KAAMyB,GAAU,KAwBlD,WACE,kBACEG,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,yDAEd,mBAAQH,KAAK,SAAb,uBAEwB,IAAzBtB,EAAc0B,SAAgB,SAAC,IAAD,CAAYrC,OAAQW,S,oLC5CnD2B,EAAU,mCACVC,EAAW,+BAEJC,EAAkB,mCAAG,sGACTC,MAAM,GAAD,OACvBF,EADuB,uCACgBD,IAFZ,cAC1BI,EAD0B,gBAIXA,EAASC,OAJE,cAI1B3C,EAJ0B,yBAMzBA,EAAOqB,SANkB,2CAAH,qDASlBuB,EAAc,mCAAG,WAAMC,GAAN,yFACLJ,MAAM,GAAD,OACvBF,EADuB,kBACLM,EADK,oBACcP,IAFd,cACtBI,EADsB,gBAIPA,EAASC,OAJF,cAItB3C,EAJsB,yBAMrBA,GANqB,2CAAH,sDASdkB,EAAiB,mCAAG,WAAMY,GAAN,yFACRW,MAAM,GAAD,OACvBF,EADuB,iCACUD,EADV,kBAC2BR,IAFxB,cACzBY,EADyB,gBAIVA,EAASC,OAJC,cAIzB3C,EAJyB,yBAMxBA,GANwB,2CAAH,sDASjB8C,EAAqB,mCAAG,WAAMD,GAAN,yFACZJ,MAAM,GAAD,OACvBF,EADuB,kBACLM,EADK,4BACsBP,IAFf,cAC7BI,EAD6B,gBAIdA,EAASC,OAJK,cAI7B3C,EAJ6B,yBAM5BA,GAN4B,2CAAH,sDASrB+C,EAAqB,mCAAG,WAAMF,GAAN,yFACZJ,MAAM,GAAD,OACvBF,EADuB,kBACLM,EADK,4BACsBP,IAFf,cAC7BI,EAD6B,gBAIdA,EAASC,OAJK,cAI7B3C,EAJ6B,yBAM5BA,GAN4B,2CAAH","sources":["components/MoviesList/MoviesList.jsx","pages/Movies/Movies.jsx","service/api.js"],"sourcesContent":["import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nexport const MoviesList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <ul>\n      {movies.map(({ title, name, id }) => (\n        <li key={id}>\n          <Link to={`/movies/${id}`} state={{ from: location }}>\n            {title ? title : name}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.exact({\n      title: PropTypes.string.isRequired,\n      name: PropTypes.string,\n      id: PropTypes.number.isRequired,\n    })\n  ).isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchMovieByQuery } from '..//../service/api';\nimport { MoviesList } from '..//../components/MoviesList/MoviesList';\n\nconst Movies = () => {\n  const [moviesByQuery, setMoviesByQuery] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const query = e.target[0].value;\n    const nextParams = query !== '' ? { name: query } : {};\n\n    setSearchParams(nextParams);\n  };\n\n  useEffect(() => {\n    // console.log(searchParams.get('name'));\n    if (searchParams.get('name')) {\n      fetchMovieByQuery(searchParams.get('name'))\n        .then(movies => {\n          const justTheRightProperties = movies.results.map(\n            ({ title, name, id }) => {\n              return { title, name, id };\n            }\n          );\n\n          setMoviesByQuery(justTheRightProperties);\n        })\n        .catch(error => console.log(error.message));\n    }\n  }, [searchParams]);\n\n  return (\n    <>\n      <form onSubmit={onSubmit}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"паляниця...\"\n        ></input>\n        <button type=\"submit\">Search</button>\n      </form>\n      {moviesByQuery.length !== 0 && <MoviesList movies={moviesByQuery} />}\n    </>\n  );\n};\n\nexport default Movies;\n","// const axios = require('axios').default;\nconst API_KEY = '4c205a55573f45aaf55bacec768fd5ae';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport const fetchTrendingToday = async () => {\n  const response = await fetch(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n  );\n  const movies = await response.json();\n\n  return movies.results;\n};\n\nexport const fetchMovieById = async movieId => {\n  const response = await fetch(\n    `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`\n  );\n  const movies = await response.json();\n\n  return movies;\n};\n\nexport const fetchMovieByQuery = async query => {\n  const response = await fetch(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}`\n  );\n  const movies = await response.json();\n  //   console.log(movies);\n  return movies;\n};\n\nexport const fetchMovieCreditsById = async movieId => {\n  const response = await fetch(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`\n  );\n  const movies = await response.json();\n  //   console.log(movies);\n  return movies;\n};\n\nexport const fetchMovieReviewsById = async movieId => {\n  const response = await fetch(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}`\n  );\n  const movies = await response.json();\n  // console.log(movies);\n  return movies;\n};\n"],"names":["MoviesList","movies","location","useLocation","map","title","name","id","to","state","from","useState","moviesByQuery","setMoviesByQuery","useSearchParams","searchParams","setSearchParams","useEffect","get","fetchMovieByQuery","then","justTheRightProperties","results","catch","error","console","log","message","onSubmit","e","preventDefault","query","target","value","type","autoComplete","autoFocus","placeholder","length","API_KEY","BASE_URL","fetchTrendingToday","fetch","response","json","fetchMovieById","movieId","fetchMovieCreditsById","fetchMovieReviewsById"],"sourceRoot":""}